<div *ngIf="isUserAuthenticated" class="flex">
  <div class="w-full h-screen">
    <!-- Header section -->
    <div
      class="flex items-center justify-between h-50 px-2 shadow-lg bg-zinc-800"
    >
      <!-- logo section -->
      <div class="dropdown text-gray-400 hover:text-white">
        <a
          class="text-xl font-semibold normal-case mainLogo"
          [routerLink]="['']"
          >Quick Look Acustics</a
        >
      </div>

      <!-- top right header area -->
      <div class="gap-1">
        <!-- job status -->
        <div class="dropdown dropdown-end">
          <span>
            <svg
              class="text-white bg-red-800"
              id="Layer_1"
              data-name="Layer 1"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 102.34 122.88"
            >
              <title>data</title>
              <path
                d="M57.53,88.57c.28,1.32,2.42,2.65,5.75,3.76a52.88,52.88,0,0,0,16,2.21,52.78,52.78,0,0,0,16-2.21c3.58-1.19,5.79-2.64,5.79-4h0V78.57a19.32,19.32,0,0,1-4.82,2.28,55.84,55.84,0,0,1-17,2.38,55.81,55.81,0,0,1-17-2.38,19.45,19.45,0,0,1-4.77-2.24v10ZM20,57.75a2.83,2.83,0,0,1-2.69-2.93A2.79,2.79,0,0,1,20,51.9h22.9a2.83,2.83,0,0,1,2.68,2.92,2.79,2.79,0,0,1-2.68,2.93Zm65.85-40h9.61a6.73,6.73,0,0,1,4.84,2,6.82,6.82,0,0,1,2,4.83V57.25H96.42V24.64a1,1,0,0,0-1-1H85.84V57.25H80V6.86a1,1,0,0,0-.28-.7,1,1,0,0,0-.7-.28H6.82a1,1,0,0,0-.69.28,1,1,0,0,0-.28.7V88.38a.94.94,0,0,0,1,1H45v5.89H22.31v10.93a1,1,0,0,0,.28.69,1,1,0,0,0,.7.28H45V113H23.32a6.77,6.77,0,0,1-4.84-2,6.84,6.84,0,0,1-2-4.84V95.24H6.86a6.77,6.77,0,0,1-4.84-2,6.85,6.85,0,0,1-2-4.84V6.86A6.77,6.77,0,0,1,2,2,6.83,6.83,0,0,1,6.86,0H79a6.73,6.73,0,0,1,4.83,2,6.79,6.79,0,0,1,2,4.84V17.79ZM20,26.35a2.83,2.83,0,0,1-2.68-2.92A2.79,2.79,0,0,1,20,20.5H65.79a2.84,2.84,0,0,1,2.68,2.93,2.78,2.78,0,0,1-2.68,2.92Zm0,15.7a2.83,2.83,0,0,1-2.68-2.92A2.79,2.79,0,0,1,20,36.2H65.79a2.83,2.83,0,0,1,2.68,2.93,2.78,2.78,0,0,1-2.68,2.92Zm43.3,35.3a52.91,52.91,0,0,0,16,2.2,52.81,52.81,0,0,0,16-2.2c3.58-1.19,5.79-2.64,5.79-4S99,70.44,95.38,69.24a52.81,52.81,0,0,0-16-2.2,52.91,52.91,0,0,0-16,2.2c-7.59,2.54-7.8,5.51,0,8.11Zm37.9,30.24a19.6,19.6,0,0,1-4.81,2.28,56.17,56.17,0,0,1-17,2.37,56.15,56.15,0,0,1-17-2.37,19.82,19.82,0,0,1-4.77-2.25v9.3c.28,1.32,2.42,2.65,5.75,3.76a52.91,52.91,0,0,0,16,2.2,52.81,52.81,0,0,0,16-2.2,13.06,13.06,0,0,0,5.18-2.74c.74-.8.62-1.33.62-2.29v-8.06Zm-43.65-4.7c.28,1.32,2.42,2.65,5.75,3.76a52.91,52.91,0,0,0,16,2.2,52.81,52.81,0,0,0,16-2.2c3.58-1.2,5.79-2.64,5.79-4.06h0v-9a19.68,19.68,0,0,1-4.82,2.28,56.17,56.17,0,0,1-17,2.37,56.15,56.15,0,0,1-17-2.37,19.82,19.82,0,0,1-4.77-2.25v9.3Z"
              />
            </svg>
          </span>
          <div class="dropdown-content">
            <app-job-status-dropdown
              tabindex="0"
              class="dropdown-item"
            ></app-job-status-dropdown>
          </div>
        </div>

        <!-- user info -->
        <div class="dropdown dropdown-end">
          <button
            class="items-center btn btn-ghost rounded-btn text-gray-400 hover:text-white"
          >
            <fa-icon class="mr-3" tabindex="0" [icon]="userIcon"></fa-icon>
            {{ userName }}
          </button>
        </div>

        <!-- global actions -->
        <div class="dropdown dropdown-end">
          <fa-icon
            class="btn btn-ghost rounded-btn text-gray-400 hover:text-white"
            tabindex="0"
            [icon]="optionsIcon"
          >
          </fa-icon>
          <div
            tabindex="0"
            class="dropdown-content p-1 shadow bg-base-200 rounded-box w-72"
          >
            <button
              class="btn btn-sm btn-ghost w-full text-left"
              (click)="SaveConfig()"
            >
              <fa-icon class="mr-2" [icon]="saveConfigIcon"></fa-icon>
              Save Configurations
            </button>

            <input
              #file
              type="file"
              accept="txt/*"
              (change)="ImportFile($event)"
              hidden
            />
            <button
              class="btn btn-sm btn-ghost w-full text-left"
              (click)="file.click()"
            >
              <fa-icon class="mr-2" [icon]="loadConfigIcon"></fa-icon>
              Load Configurations
            </button>

            <button class="btn btn-sm btn-ghost w-full" (click)="resetConfig()">
              <fa-icon class="mr-2" [icon]="resetSelection"></fa-icon>
              Reset current selection
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- router outlet for main sections -->
    <div class="h-full">
      <router-outlet (activate)="onActivate($event)"></router-outlet>
    </div>
  </div>
</div>

<!-- OAuth unauthenticated modal -->
<app-not-authenticated
  *ngIf="!isUserAuthenticated"
  [IsAuthenticated]="isUserAuthenticated"
></app-not-authenticated>

<button #hiddenBtn class="hidden"></button>
